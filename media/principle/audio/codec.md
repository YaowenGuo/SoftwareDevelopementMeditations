# 编解码

音频编解码有很多种，总体上分为两种：有损压缩和无损压缩。常用的压缩格式有：
- 有损压缩格式：
    - Opus
    - AAC
    - MP3
    - AC3
- 无损压缩格式：
    - APE
    - FLAC

有损压缩会丢失一部分信息，不能完全还原原有的音频，以 MP3 为例，它根据人耳的听觉特征，抛弃了人耳无法辨认的高频部分。虽然有损压缩损失一部分信息，但除非专业人士，很难辨别出其中的差别。因为有损压缩会损失一部分信息，普遍能够获得比无损压缩高得多的压缩率。例如 MP3 一般可以达到 1:10 的压缩比，即存储体积为未压缩音频的十分之一。而无损压缩 LAC 的压缩比为 58.70%，APE 的压缩能力则要更高一些，压缩比为 55.50%

## 编解码器的选择

选择编解码器需要考虑很多因素，并不仅是简单的看压缩率。例如在实时通信领域（RTC）要求编解码有较低的延迟，不能因为编解码严重增加了通信延时。而对于音乐，我们又要求有编解码器能有更好的还原质量。对于纯会议场景，我们为了减少数据，想要采用较低的采样率，而音乐又需要较高的采样率，这时如果只使用一款编解码器，就希望编解码器能覆盖较宽的频域。最后但是也是非常重要的，我们要考虑编解码器的费用和是否开源，以便能根据自己需求而修改。下面来对比一常用编解码器在各个指标上的表现，以便在不同场景下选用不同的编解码器。


## 封装格式

封装格式是指音频格式的文件存储，裸的音频数据存储在文件中，①但是这些数据可能不包含音频的一些参数，在进行播放时缺少这些参数就无法播放，例如采样频率，通道数，采样位深等。② 而一些压缩格式也有一些额外的处理，或者压缩后的数据变得长短不一。不知道这些信息就无法正确读取恢复。③ 在播放时有时可能希望随机读取数据，能够从任意时间点播放，或者知道文件大小等等这些操作。封装格式就是用于包装数据和这些额外的参数。

有些封装格式可以存贮多种数据格式，多种压缩或者原始数据。有些格式则是为特殊压缩定制的封装，例如 MP3 既是压缩格式也是封装格式。
常见的音频封装格式：
- MP3、FLAC
- FLAC
- WAV
- Ogg
