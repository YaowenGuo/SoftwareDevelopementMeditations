# SDP

## 摘要

WebRTC 协议系列定义了两个Web浏览器对等体之间的音频，视频和数据直接交互式丰富通信的机制。WebRTC 框架中，SDP 被用于对等端间协调会话能力。该协商建立在 SDP offer/answer 交换机制上。

该文档提供了描述 SDP 角色和 offer/answer 交换机制在大多数应用场景的非正式参考。

该文档没有修改 SDP offer/anser 交换机制。

## 本备忘录的状态

此互联网草案与BCP 78和BCP 79的规定完全一致。

互联网草稿是互联网工程工作组（IETF）的工作文件。 请注意，其他组还可以将工作文件分发给互联网草稿。 当前的Internet-草稿列表是https://datatracker.ietf.org/drafts/current/。

互联网草稿是有效期最长为6个月的草稿文件，并可随时被其他文件更新、替换或废止。使用互联网草稿作为参考材料或引用它们而不是作为“正在进行的工作”是不合适的。

This Internet-Draft will expire on 20 June 2021.

## 1. 引言

JavaScript会话建立协议（JavaScript Session Establishment Protocol (JSEP)）指定一个 WebRTC 对等体之间建立 SDP 请求和应答 ，更新和拆除一个WebRTC会话。


specifies a generic protocol needed to
 generate [RFC3264] SDP offers and answers negotiated between the
 [WebRTC] peers for setting up, updating, and tearing down a WebRTC
 session. 

 指定一个生成 SDP 请求 和 应答协商

在对等端建立、更新、断开 WebRTC 会话

 需要生成对等端建立、更新关闭 WebRTC 会话 SDP offer 和 answer 
 
 
 通用的协议。

 本文件的其余部分按如下方式进行组织：第3和第4节提供了SDP和提供/答案交换机制的概述。 第5节提供了为最常见的WebRTC使用情况生成的示例SDP。

 ## 3. SDP 和 WebRTC

 会话描述协议（SDP）[RFC4566]描述了一个多媒体会话，它可以包含音频，视频，白板，传真，调制解调器和其他流。 SDP提供了一般的目的，标准表示，用于描述媒体能力，传输地址和相关元数据的多媒体会话的各个方面，以便在会话公告，会话邀请和参数协商的目的中以传输不可行的方式。


 图1介绍了SDP的高层次的抽象分块，这些快在语义地描述了一个多媒体会话，在本例中，是一个WebRTC会话。它绝不能囊括 SDP的所有信息，因此仅供参考。

```
                                                 +---------------------+
                                                 |        v=           |
                                                 +---------------------+
                 +---------------------+         +---------------------+
         ====    |   Session Metadata  |  =====  |        o=           |
         |       +---------------------+         +----------------------
         |                                       +---------------------+
         |                                       |        t=           |
         |                                       +---------------------+
         |
         |
         |                                       +---------------------+
         |                                       |        c=           |
         |                                       +---------------------+
         |       +---------------------+
         ====    | Network Description |   =====
         |       +---------------------+
         |                                       +---------------------+
         |                                       |    a=candidate      |
         |                                       +---------------------+
         |
         |
         |                                       +---------------------+
         |                                       |        m=           |
         |                                       +---------------------+
         |        +---------------------+        +---------------------+
         ====     | Stream Description  |  ===== |      a=rtpmap       |
         |        +---------------------+        +----------------------
         |                                       +---------------------+
         |                                       |      a=fmtp         |
         |                                       +---------------------+
         |                                       +---------------------+
         |                                       |      a=sendrecv..   |
         |                                       +---------------------+
 +---------------+
 |    SEMANTIC   |
 | COMPONENTS OF |
 |     SDP       |
 +---------------+
         |                                       +---------------------+
         |                                       |      a=crypto       |
         |                                       +---------------------+
         |         +---------------------+       +---------------------+
         ====      |Security Descriptions|  =====|      a=ice-frag     |
         |         +---------------------+       +----------------------
         |                                       +---------------------+
         |                                       |      a=ice-pwd      |
         |                                       +---------------------+
         |                                       +---------------------+
         |                                       |     a=fingerprint   |
         |                                       +---------------------+
         |
         |
         |
         |                                       +---------------------+
         |                                       |      a=rtcp-fb      |
         |                                       +---------------------+
         |         +---------------------+       +---------------------+
         ====      |   Qos,Grouping      |       |                     |
                   |   Descriptions      |  =====|       a=group       |
                   +---------------------+       +----------------------
                                                 +---------------------+
                                                 |       a=rtcpmux     |
                                                 +---------------------+

                  Figure 1: Semantic Components of SDP
```

WebRTC 的架构设计是，控制平面是由 JavaScript 应用程序指定和实现的，如JSEP规范中所述。JSEP 提供了一些机制来创建会话描述和媒体的定义信息以进行基于SDP交换的会话。


在这种情况下，SDP有两个目的

1. 在句法上提供语法结构。
2. 具有语义地传达成功建立会话所需的参与者的意图和能力

## 4. Offer（邀约）/Answer（应答） 和 WebRTC.

本节介绍 WebRTC 的 SDP offer/answer 机制，该机制设置、更新和解除WebRTC会话时协商会话功能。本节有意简短，有兴趣的读者建议参考[RFC3264]了解协议操作的具体细节。

Offer/answer [RFC3264] 模型规定了用于建立多媒体流的双边交换 SDP 消息的规则。

会话交换描述协议（SDP）创建消息多媒体流。它定义了一个协议，其中涉及参与者相互交换所需的会话特征，这些特征被构造成SDP消息，用于在它们之间协商会话。

在 WebRTC 的上下文中，邀约/应答模型定义了对等端之间在初始建立阶段和状态更新时协商会话描述的状态机。WebRTC JSEP 规范提供了会话双边为了就会话的细节，例如接收/发送多媒体格式、贷款信息、加密参数、运输参数等达成一致的 SDP offer/answer 生成机制。

## 5. WebRTC 描述示例

